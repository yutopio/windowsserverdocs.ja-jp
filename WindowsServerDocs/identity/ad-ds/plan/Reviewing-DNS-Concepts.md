---
ms.assetid: 133474ee-316d-4b1c-acc6-ad5434a064d5
title: DNS の概念を確認します。
ms.author: daveba
author: iainfoulds
manager: daveba
ms.date: 08/08/2018
ms.topic: article
ms.openlocfilehash: 2b657660fbdba7f3f0750f4376f5f5c698b279a2
ms.sourcegitcommit: b115e5edc545571b6ff4f42082cc3ed965815ea4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/30/2020
ms.locfileid: "93070064"
---
# <a name="reviewing-dns-concepts"></a>DNS の概念を確認します。

>適用先:Windows Server 2016 では、Windows Server 2012 R2、Windows Server 2012

ドメイン ネーム システム (DNS) は、名前空間を表す分散データベースです。 名前空間には、すべてのクライアントでは任意の名前を検索するために必要な情報が含まれています。 任意の DNS サーバーは、その名前空間内で任意の名前に関するクエリに応答できます。 DNS サーバーでは、次の方法のいずれかでクエリがお答えします。

- 答えがキャッシュ内にある場合は、クエリがキャッシュから応答します。
- その答えは、DNS サーバーによってホストされるゾーンは、そのゾーンのクエリが応答します。 ゾーンは、DNS サーバーに格納されている DNS ツリーの一部です。 DNS サーバーがゾーンをホストする場合は、そのゾーンの名前に対する権限のある (つまり、DNS サーバー クエリに応答できますのゾーン内の任意の名前)。 たとえば、ゾーン contoso.com をホストするサーバー contoso.com 内の任意の名前に対するクエリに応答できます。
- サーバーは、そのキャッシュまたはゾーンからクエリに応答できません、答えを他のサーバーを照会します。

これは、方法は、Active Directory 論理構造の設計に直接影響するので、DNS の委任、再帰的名前解決、および Active Directory 統合 DNS ゾーンなどのコア機能を理解する必要があります。

DNS および Active Directory ドメイン サービス (AD DS) の詳細については、次を参照してください。 [DNS と AD DS](../../ad-ds/plan/DNS-and-AD-DS.md)します。

## <a name="delegation"></a>委任

任意の名前に関するクエリに応答する DNS サーバーの場合は、名前空間内のすべてのゾーンに直接的または間接的なパスが必要です。 これらのパスは、委任を使用して作成されます。 委任は、次のレベルの階層のゾーンの権限を持つネーム サーバーを一覧表示する親ゾーン内のレコードです。 委任する他のゾーン内のサーバーにクライアントを参照する 1 つのゾーン内のサーバーです。 次の図は、委任の 1 つの例を示します。

![DNS の概念](../../media/Reviewing-DNS-Concepts/0c24b576-d41a-4e5d-ad3d-6be81e095835.gif)

DNS ルート サーバー ドットで表されるルート ゾーンのホスト (します。 ). ルート ゾーンには、次のレベル、階層では、com のゾーンのゾーンへの委任が含まれています。 ルート ゾーンの委任は、com のゾーンを見つけるに問い合わせる必要があります、Com サーバーを DNS ルート サーバーに指示します。 同様に、com ゾーンで委任 Com をサーバーに通知するには、contoso.com ゾーンを見つけるに問い合わせる必要があります、Contoso サーバーです。

> [!NOTE]
> 委任は、2 種類のレコードを使用します。 ネーム サーバー (NS) リソース レコードは、権限のあるサーバーの名前を提供します。 ホスト (A) とホスト (AAAA) リソース レコード IP バージョン 4 (IPv4) と IP version 6 (IPv6) のアドレスを指定権限を持つサーバーです。

このゾーンと委任のシステムでは、DNS 名前空間を表す階層ツリーを作成します。 各ゾーンは、階層内のレイヤーを表し、各委任は、ツリーの分岐を表します。

ゾーンと委任の階層を使用する DNS ルート サーバーは DNS 名前空間で任意の名前を見つけることができます。 ルート ゾーンには、階層内の他のすべてのゾーンを直接的または間接的をリードする委任が含まれています。 DNS ルート サーバーを照会できる任意のサーバーは、委任で情報を使用して、名前空間内の任意の名前を検索します。

## <a name="recursive-name-resolution"></a>再帰的名前解決

再帰的名前解決は、DNS サーバーは対象が権限のないクエリに応答するゾーンと委任の階層を使用するプロセスです。

いくつかの構成では、DNS サーバーには、DNS ルート サーバーを照会してそれを実現するルート ヒント (つまり、名前と IP アドレスのリスト) が含まれます。 他の構成では、サーバーは、別のサーバーに応答できないすべてのクエリを転送します。 転送やルート ヒントは、ためにはない権限のあるクエリを解決する DNS サーバーが使用できる両方の方法です。

### <a name="resolving-names-by-using-root-hints"></a>ルート ヒントを使用する名前の解決

ルート ヒントには、DNS ルート サーバーを検索する任意の DNS サーバーが有効にします。 DNS サーバーが DNS ルート サーバーを検索した後は、その名前空間の任意のクエリを解決することができます。 次の図は、ルート ヒントを使用して、DNS が名前を解決する方法について説明します。

![DNS の概念](../../media/Reviewing-DNS-Concepts/1c044845-b104-4262-a7af-474ba3558a85.gif)

この例では、次のイベントが発生します。

1. クライアントは、再帰クエリを名前 ftp.contoso.com に対応する IP アドレスを要求する DNS サーバーに送信します。 再帰クエリでは、クライアントが、クエリに明確な回答をしていることを示します。 再帰クエリへの応答には、有効なアドレスまたはアドレスが見つからないことを示すメッセージがあります。
2. DNS サーバーが名前に対して権限がない、キャッシュに、応答していないため、DNS サーバーは DNS ルート サーバーの IP アドレスを検索するのにルート ヒントを使用します。
3. DNS サーバーでは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには DNS ルート サーバーに要求します。 反復的なクエリでは、サーバーがクエリに明確な回答の代わりに別のサーバーへの参照を受け入れることを示します。 名前 ftp.contoso.com がラベルで終わるため、com DNS ルート サーバーで、com ゾーンをホストする Com サーバーに参照が返されます。
4. DNS サーバーでは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには、Com サーバーを要求します。 名前 ftp.contoso.com は、contoso.com という名前で終わる、ため Com サーバーは、contoso.com ゾーンをホストする Contoso サーバーに参照を返します。
5. DNS サーバーでは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには、Contoso サーバーを要求します。 Contoso サーバーは、ゾーン データ内の回答を検索し、サーバーへの応答を返します。
6. サーバーは、結果をクライアントに返します。

### <a name="resolving-names-by-using-forwarding"></a>転送による名前の解決

転送では、ルート ヒントを使用する代わりに特定のサーバーを使用したルート名解決できます。 次の図は、転送を使用して、DNS が名前を解決する方法について説明します。

![DNS の概念](../../media/Reviewing-DNS-Concepts/05bc2eb0-1033-4e53-ae30-244fa247d000.gif)

この例では、次のイベントが発生します。

1. クライアントは、名前 ftp.contoso.com 用の DNS サーバーを照会します。
2. DNS サーバーは、フォワーダーと呼ばれる別の DNS サーバーに対するクエリを転送します。
3. フォワーダーは名前に対して権限がない、キャッシュに、応答していないため、ルート ヒントを使用し、DNS ルート サーバーの IP アドレスを見つけます。
4. フォワーダーは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには DNS ルート サーバーに要求します。 名前 ftp.contoso.com が名で終わりますので、com DNS ルート サーバーで、com ゾーンをホストする Com サーバーに参照が返されます。
5. フォワーダーは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには、Com サーバーを要求します。 名前 ftp.contoso.com は、contoso.com という名前で終わる、ため Com サーバーは、contoso.com ゾーンをホストする Contoso サーバーに参照を返します。
6. フォワーダーは、反復的なクエリを使用して、名前 ftp.contoso.com を解決するのには、Contoso サーバーを要求します。 Contoso サーバーは、そのゾーン ファイル内の回答を検索し、サーバーへの応答を返します。
7. フォワーダーは、元の DNS サーバーに結果を返します。
8. 元の DNS サーバーは、結果をクライアントに返します。
