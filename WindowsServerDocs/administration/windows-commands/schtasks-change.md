---
title: schtasks を変更します。
description: Schtasks 変更コマンドの参照記事。このコマンドとプログラムは、定期的または特定の時刻に実行されるようにスケジュールを設定し、スケジュールに基づいてタスクを追加および削除し、タスクを開始して必要に応じて停止し、スケジュールされたタスクを表示および変更します。
ms.topic: reference
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 09/16/2020
ms.openlocfilehash: 06cbceaaa0e428743a725127d9495759dd0097e1
ms.sourcegitcommit: e164aeffc01069b8f1f3248bf106fcdb7f64f894
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/26/2020
ms.locfileid: "91390770"
---
# <a name="schtasks-change"></a>schtasks を変更します。

タスクの次の1つ以上のプロパティを変更します。

- タスクが実行するプログラム (**/tr**)

- タスクを実行するユーザーアカウント (**/ru**)

- ユーザーアカウントのパスワード (**/rp**)

- 対話型専用のプロパティをタスク (**/it**) に追加します。

## <a name="required-permissions"></a>必要なアクセス許可

- ローカルコンピューター上のすべてのタスクをスケジュール、表示、および変更するには、Administrators グループのメンバーである必要があります。

- リモートコンピューター上のすべてのタスクをスケジュール、表示、および変更するには、リモートコンピューターの Administrators グループのメンバーであるか、または **/u** パラメーターを使用してリモートコンピューターの管理者の資格情報を指定する必要があります。

- ローカルコンピューターとリモートコンピューターが同じドメインにある場合、またはローカルコンピューターがリモートコンピューターのドメインが信頼するドメインにある場合は、 **/create**または **/change**操作で **/u**パラメーターを使用できます。 そうしないと、リモートコンピューターは指定されたユーザーアカウントを認証できず、アカウントが Administrators グループのメンバーであることを確認できません。

- 実行する予定のタスクには、適切なアクセス許可が必要です。これらのアクセス許可は、タスクによって異なります。 ローカル コンピューターの現在のユーザーのアクセス許可を持つまたはによって指定されたユーザーのアクセス許可を持つ既定では、タスクを実行、 **/u** パラメーターを 1 つが含まれる場合。 o 別のユーザーアカウントのアクセス許可またはシステムアクセス許可を持つタスクを実行する場合は、 **/ru** パラメーターを使用します。

## <a name="syntax"></a>構文

```
schtasks /change /tn <Taskname> [/s <computer> [/u [<domain>\]<user> [/p <password>]]] [/ru <username>] [/rp <password>] [/tr <Taskrun>] [/st <Starttime>] [/ri <interval>] [{/et <Endtime> | /du <duration>} [/k]] [/sd <Startdate>] [/ed <Enddate>] [/{ENABLE | DISABLE}] [/it] [/z]
```

### <a name="parameters"></a>パラメーター

| パラメーター | [説明] |
|--|--|
| /tn `<Taskname>` | 変更するタスクを識別します。 タスク名を入力します。 |
| /s `<computer>` | (または円記号なし) の名前またはリモート コンピューターの IP アドレスを指定します。 既定値はローカル コンピューターです。 |
| /u `[<domain>]` | 指定したユーザー アカウントのアクセス許可を持つには、このコマンドを実行します。 既定では、コマンドは、ローカル コンピューターの現在のユーザーの権限で実行されます。 指定したユーザー アカウントは、リモート コンピューターの Administrators グループのメンバーである必要があります。 **/U** と **/p** パラメーターが有効に使用する場合のみ **/s**します。 |
| /p `<password>` | 指定されたユーザー アカウントのパスワードを指定、 **/u** パラメーター。 **/P**パラメーターまたは password 引数を指定せずに **/u**パラメーターを使用すると、schtasks はパスワードの入力を求められます。 **/U** と **/p** パラメーターが有効に使用する場合のみ **/s**します。 |
| /ru `<username>` | スケジュールされたタスクの実行に使用するユーザー名を変更します。 システムアカウントの場合、有効な値は " *"*、 *"NT AUTHORITY\SYSTEM"*、または *"system"* です。 |
| /rp `<password>` | 既存のユーザー アカウントまたは指定したユーザー アカウントの新しいパスワードを指定します、 **/ru** パラメーター。 このパラメーターは、ローカル システム アカウントで使用すると無視されます。 |
| /tr `<Taskrun>` | タスクを実行するプログラムを変更します。 実行可能ファイル、スクリプト ファイルまたはバッチ ファイルの完全修飾パスとファイル名を入力します。 パスを追加しない場合、 **schtasks** では、ファイルがディレクトリにあると想定され `<systemroot>\System32` ます。 指定したプログラムには、タスクによって実行元のプログラムが置き換えられます。 |
| /st `<Starttime>` | 24 時間形式、HH:mm を使用して、タスクの開始時刻を指定します。 たとえば、14時 30分の値は、12 時間制の午後 2 時 30 分に相当します。 |
| /ri `<interval>` | スケジュールされたタスクの繰り返し間隔を分単位で指定します。 有効な範囲は、1-599940 (599940 分 = 9999 時間) です。 **/Et**または **/du**パラメーターが指定されている場合、既定値は**10 分**です。 |
| /et `<Endtime>` | 24 時間形式、HH:mm を使用して、タスクの終了時刻を指定します。 たとえば、14時 30分の値は、12 時間制の午後 2 時 30 分に相当します。 |
| 継続 `<duration>` | タスクを実行する期間を指定する値です。 時刻の形式は HH: mm (24 時間制) です。 たとえば、14時 30分の値は、12 時間制の午後 2 時 30 分に相当します。 |
| /k | 指定した時刻にタスクを実行するプログラムを停止 **/et** または **/du**します。 **/K**が指定されていない場合、schtasks は、 **/et**または **/du**によって指定された時間に到達した後、プログラムを再び起動しません。また、プログラムがまだ実行されている場合は停止しません。 このパラメーターは、オプションであり、1 分または 1 時間ごとのスケジュールでのみ有効です。 |
| /sd `<Startdate>` | タスクを実行する最初の日付を指定します。 日付形式は、年/月/日です。 |
| /ed `<Enddate>` | タスクを実行する最後の日付を指定します。 形式は、年/月/日です。 |
| または有効にします。 | スケジュールされたタスクを有効にするように指定します。 |
| /無効にします。 | スケジュールされたタスクを無効にするように指定します。 |
| /it | 実行ユーザー (タスクを実行するユーザーアカウント) がコンピューターにログオンしている場合にのみ、スケジュールされたタスクを実行するように指定します。 このパラメーターには、システムのアクセス許可で実行するタスクまたは対話型のみプロパティが設定されているタスクへの影響はありません。 変更コマンドを使用して、対話型専用のプロパティをタスクから削除することはできません。 既定では、タスクがスケジュールされている場合はローカルコンピューターの現在のユーザーとして実行され、使用されている場合は **/u** パラメーターによって指定されたアカウントになります。 ただし、コマンドに **/ru** パラメーターが含まれている場合、実行ユーザーは **/ru** パラメーターによって指定されたアカウントになります。 |
| /z | スケジュールの終了時のタスクを削除するよう指定します。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

#### <a name="remarks"></a>解説

- **/Tn** と **/s** パラメーターは、タスクを指定します。 **/Tr**, 、**/ru**, 、および **/rp** 変更可能なタスクのプロパティをパラメーターで指定します。

- **/Ru**および **/rp**パラメーターでは、タスクを実行するためのアクセス許可を指定します。 **/U** と **/p** パラメーターは、タスクを変更するためのアクセス許可を指定します。

- リモート コンピューター上でタスクを変更するには、ユーザーをリモート コンピューターの Administrators グループのメンバーであるアカウントを使用してローカル コンピューターにログオンする必要があります。

- 実行する、 **変更/** 別のユーザーのアクセス許可を持つコマンド (**/u**, 、**/p**)、ローカル コンピューターがリモート コンピューターと同じドメインに存在する必要があります、またはリモート コンピューターのドメインが信頼しているドメインに存在する必要があります。

- システムアカウントには、対話型ログオン権限がありません。 ユーザーは、システムのアクセス許可で実行されるプログラムを表示したり、操作したりすることはできません。
使用してタスクを識別するために、 **/it** プロパティには、詳細なクエリを使用して (**/v クエリ/**)。 **/It**が指定されたタスクの詳細なクエリ表示では、[ログオンモード] フィールドの値が [対話型のみ] になります。

## <a name="examples"></a>例

ウイルスチェックタスクを実行するプログラムを *VirusCheck.exe* から *VirusCheck2.exe*に変更するには、次のように入力します。

```
schtasks /change /tn Virus Check /tr C:\VirusCheck2.exe
```

このコマンドを使用して、 **/tn** タスクを識別するためにパラメーターおよび **/tr** タスク用の新しいプログラムを指定するパラメーターです。 (タスク名を変更することはできません)。

リモートコンピューター *Svr01*で*RemindMe*タスクのユーザーアカウントのパスワードを変更するには、次のように入力します。

```
schtasks /change /tn RemindMe /s Svr01 /rp p@ssWord3
```

ユーザー アカウントのパスワードの有効期限が切れるまたは変更されるたびに、この手順が必要です。 タスクに保存されているパスワードが無効になると、タスクは実行されません。 コマンドを使用して、 **/tn** タスクを識別するためにパラメーターおよび **/s** パラメーターをリモート コンピューターを指定します。 この例では、 **/rp** パラメーターを使用して、新しいパスワードを指定して *p@ssWord3* います。

毎朝午前9:00 時に Notepad.exe 開始される ChkNews タスクを変更するには、Internet Explorer を起動するには、次のように入力します。

```
schtasks /change /tn ChkNews /tr c:\program files\Internet Explorer\iexplore.exe /ru DomainX\Admin01
```

コマンドを使用して、 **/tn** パラメーターのタスクを識別します。 使用して、 **/tr** タスクを実行するプログラムを変更するパラメーター、および /ru にタスクを実行するユーザー アカウントを変更するパラメーターです。 ユーザーアカウントのパスワードを提供する **/ru** および **/rp** パラメーターは使用されません。 アカウントのパスワードを入力する必要がありますが、 **/ru** および **/rp** パラメーターを使用してクリアテキストでパスワードを入力するか、パスワードの入力を要求する SchTasks.exe まで待機してから、非表示のテキストでパスワードを入力することができます。

システムアカウントのアクセス許可で実行されるように SecurityScript タスクを変更するには、次のように入力します。

```
schtasks /change /tn SecurityScript /ru
```

このコマンドでは、 **/ru** パラメーターを使用してシステムアカウントを指定しています。 システム アカウントのアクセス許可で実行されるタスクには、パスワードが必要ないため SchTasks.exe 1 つのプロンプトが表示されません。

既存のタスクである MyApp に対話型専用のプロパティを追加するには、次のように入力します。

```
schtasks /change /tn MyApp /it
```

このプロパティを使用すると、実行ユーザー (タスクを実行するユーザーアカウント) がコンピューターにログオンしたときにのみタスクが実行されるようになります。 コマンドを使用して、 **/tn** タスクを識別するためにパラメーターおよび **/it** タスクに対話型専用のプロパティを追加するパラメーターです。 タスクはユーザーアカウントのアクセス許可を使用して既に実行されているので、タスクの **/ru** パラメーターを変更する必要はありません。

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)

- [schtasks create コマンド](schtasks-create.md)

- [schtasks delete コマンド](schtasks-delete.md)

- [schtasks 終了コマンド](schtasks-end.md)

- [schtasks クエリコマンド](schtasks-query.md)

- [schtasks コマンドの実行](schtasks-run.md)
