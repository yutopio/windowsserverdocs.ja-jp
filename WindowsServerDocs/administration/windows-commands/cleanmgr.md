---
title: cleanmgr
description: 特定のファイルを自動的にクリーンアップするように、ディスククリーンアップツール (Cleanmgr.exe) を構成します。
ms.reviewer: cosmosdarwin
author: JasonGerend
ms.author: jgerend
manager: daveba
ms.date: 06/20/2019
ms.openlocfilehash: dd8a015ff27809d0ef960241ce9221b4215c20aa
ms.sourcegitcommit: 7499749ce7baaf58a523cae2dd46737d635475ce
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/30/2020
ms.locfileid: "93043880"
---
# <a name="cleanmgr"></a>cleanmgr

> 適用対象: Windows Server 2019、Windows Server 2016、Windows Server 2012、Windows Server 2008 R2、Windows Server (半期チャネル)

コンピューターのハードディスクから不要なファイルを削除します。 コマンドラインオプションを使用すると、[ファイル]、[インターネットファイル]、[ダウンロードされたファイル]、および [ごみ箱] のファイルを、このファイル **でクリーンアップする** ように指定できます。 その後、スケジュールされた **タスク** ツールを使用して、特定の時刻に実行されるようにタスクをスケジュールすることができます。

## <a name="syntax"></a>構文

```
cleanmgr [/d <driveletter>] [/sageset:n]  [/sagerun:n] [/TUNEUP:n] [/LOWDISK] [/VERYLOWDISK]
```

### <a name="parameters"></a>パラメーター

| パラメーター | Description |
| --------- | ----------- |
| d `<driveletter>` | ディスククリーンアップをクリーニングするドライブを指定します。<p>**注:****/D** オプションは、では使用されません `/sagerun:n` 。 |
| /sageset: n | [ **ディスククリーンアップの設定** ] ダイアログボックスが表示されます。また、選択した設定を保存するためのレジストリキーも作成されます。 `n`レジストリに格納されている値を使用すると、ディスククリーンアップを実行するタスクを指定できます。 `n`0 ~ 9999 の任意の整数値を指定できます。 |
| /sagerun: n | **/Sageset** オプションを使用する場合、n 値に割り当てられている指定されたタスクを実行します。 コンピューター上のすべてのドライブが列挙され、選択したプロファイルが各ドライブに対して実行されます。 |
| /チューンアップ: n | **/Sageset** と **/sagerun** を同じに対して実行し `n` ます。 |
| /lowdisk | 既定の設定を使用してを実行します。 |
| /非常に低ディスク | 既定の設定を使用してを実行します。ユーザープロンプトは表示されません。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

#### <a name="options"></a>オプション

**/Sageset** と **/sagerun** を使用してディスククリーンアップに指定できるファイルのオプションは次のとおりです。

- **一時セットアップファイル** -これらは、実行されなくなったセットアッププログラムによって作成されたファイルです。

- **ダウンロードしたプログラムファイル** -ダウンロードしたプログラムファイルは、特定のページを表示したときにインターネットから自動的にダウンロードされる ActiveX コントロールおよび Java プログラムです。 これらのファイルは、ハードディスク上のダウンロード済みプログラムファイルフォルダーに一時的に保存されます。 このオプションには [ファイルの表示] ボタンが含まれているので、ディスククリーンアップによってファイルが削除される前にファイルを確認できます。 このボタンをクリックすると、C:\Winnt\Downloaded Program Files フォルダーが開きます。

- **インターネット一時ファイル** -Temporary internet files フォルダーには、簡単に表示できるようにハードディスクに保存されている Web ページが含まれています。 ディスククリーンアップでは、これらのページは削除されますが、Web ページの個人用設定はそのまま残ります。 このオプションには、[ファイルの表示] ボタンもあります。このボタンをクリックすると、C:\documents and および Settings\Username\Local Settings\Temporary Internet Files\Content.IE5 フォルダーが開きます。

- **古い Chkdsk ファイル** -chkdsk でディスクにエラーがないかどうかがチェックされると、chkdsk では失われたファイルフラグメントがディスク上のルートフォルダーのファイルとして保存される場合があります。 これらのファイルは不要です。

- **ごみ箱** -ごみ箱には、コンピューターから削除したファイルが含まれています。 これらのファイルは、ごみ箱を空にするまで完全には削除されません。 このオプションには、ごみ箱を開く [ファイルの表示] ボタンがあります。<p>**注:** ごみ箱は、% SystemRoot% だけでなく、たとえば、複数のドライブに表示される場合があります。

- **一時ファイル** -プログラムによって一時フォルダーに一時的な情報が格納されることがあります。 プログラムが終了する前に、プログラムは通常この情報を削除します。 過去1週間以内に変更されていない一時ファイルは安全に削除できます。

- **一時オフラインファイル** -一時オフラインファイルは、最近使用したネットワークファイルのローカルコピーです。 これらのファイルは、ネットワークから切断した後で使用できるように、自動的にキャッシュされます。 [ **ファイルの表示** ] ボタンをクリックすると、オフラインファイルフォルダーが開きます。

- **オフラインファイル** オフラインファイルは、ネットワークから切断した後に使用できるように、オフラインで使用できるようにする必要があるネットワークファイルのローカルコピーです。 [ **ファイルの表示** ] ボタンをクリックすると、オフラインファイルフォルダーが開きます。

- **古いファイルを圧縮** する-最近使用したことがないファイルは Windows で圧縮できます。 ファイルを圧縮するとディスク領域が節約されますが、ファイルを使用することもできます。 ファイルは削除されません。 ファイルは異なるレートで圧縮されるので、表示されるディスク領域の量は概算です。 [オプション] ボタンを使用すると、ディスククリーンアップによって未使用ファイルが圧縮されるまでの待機日数を指定できます。

- **コンテンツインデクサーのカタログファイル** -インデックスサービスは、ディスク上のファイルのインデックスを保持することにより、ファイル検索を高速化し、改善します。 これらのカタログファイルは以前のインデックス作成操作のままであり、安全に削除できます。<p>**注:** カタログファイルは、ではなく、複数のドライブに表示されることがあり `%SystemRoot%` ます。

>[!NOTE]
> Windows のインストールが含まれているドライブのクリーンアップを指定すると、これらのオプションはすべて [ **ディスククリーンアップ** ] タブに表示されます。他のドライブを指定する場合は、[ **ディスククリーンアップ** ] タブで、[ごみ箱] および [カタログファイルのコンテンツインデックス] オプションのみを使用できます。

## <a name="examples"></a>例

ディスククリーンアップアプリを実行して、そのダイアログボックスを使用して後で使用するオプションを指定できるようにするには、設定をセット **1** に保存し、次のように入力します。

```
cleanmgr /sageset:1
```

ディスククリーンアップを実行し、cleanmgr.exe/sageset: 1 コマンドで指定したオプションを含めるには、次のように入力します。

```
cleanmgr /sagerun:1
```

とを一緒に実行するには `cleanmgr /sageset:1` `cleanmgr /sagerun:1` 、次のように入力します。

```
cleanmgr /tuneup:1
```

## <a name="additional-references"></a>その他の参照情報

- [Windows 10 のドライブの空き領域を増やす](https://support.microsoft.com/help/12425/windows-10-free-up-drive-space)」も参照してください

- [コマンド ライン構文の記号](command-line-syntax-key.md)
