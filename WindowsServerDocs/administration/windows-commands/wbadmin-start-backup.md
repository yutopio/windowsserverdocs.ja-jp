---
title: wbadmin start backup
description: 指定されたパラメーターを使用してバックアップを作成する wbadmin start backup コマンドの参照記事です。
ms.topic: reference
ms.assetid: 56f3e752-d99a-4c3d-8e97-10303c37dd78
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: a99d467aed8df57660f46b5efbcb4b8df5feb215
ms.sourcegitcommit: 554d274fea48a4d47c19845d969a9ec93dec82de
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/24/2020
ms.locfileid: "92524847"
---
# <a name="wbadmin-start-backup"></a>wbadmin start backup

指定されたパラメーターを使用してバックアップを作成します。 パラメーターが指定されておらず、スケジュールされた毎日のバックアップを作成した場合、このコマンドはスケジュールされたバックアップの設定を使用してバックアップを作成します。 パラメーターを指定した場合は、ボリュームシャドウコピーサービス (VSS) のコピーバックアップが作成され、バックアップされているファイルの履歴は更新されません。

このコマンドを使用して1回限りのバックアップを作成するには、 **Backup Operators** グループまたは **Administrators** グループのメンバーであるか、適切な権限が委任されている必要があります。 さらに、**コマンドプロンプト**を右クリックし、[**管理者として実行**] を選択して、管理者特権でのコマンドプロンプトから**wbadmin**を実行する必要があります。

## <a name="syntax"></a>構文

```com
wbadmin start backup [-backupTarget:{<BackupTargetLocation> | <TargetNetworkShare>}] [-include:<ItemsToInclude>] [-nonRecurseInclude:<ItemsToInclude>] [-exclude:<ItemsToExclude>] [-nonRecurseExclude:<ItemsToExclude>] [-allCritical] [-systemState] [-noVerify] [-user:<UserName>] [-password:<Password>] [-noInheritAcl] [-vssFull | -vssCopy] [-quiet]
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
|--|--|
| -backuptarget | このバックアップ用の記憶域の場所を指定します。 ハードディスクドライブ文字 (f:)、の形式のボリューム GUID ベースのパス、 `\\?\Volume{GUID}` またはリモート共有フォルダーへの汎用名前付け規則 (UNC) パスが必要です `(\\<servername>\<sharename>\)` 。 既定では、バックアップはに保存され `\\<servername>\<sharename>\WindowsImageBackup\<ComputerBackedUp>\` ます。 |
| -含める | バックアップに含める項目のコンマ区切りの一覧を指定します。 複数のファイル、フォルダー、またはボリュームを含めることができます。 ボリュームパスは、ボリュームドライブ文字、ボリュームマウントポイント、または GUID ベースのボリューム名を使用して指定できます。 GUID ベースのボリューム名を使用する場合は、円記号 () で終わる必要があり `\` ます。 ファイル `*` へのパスを指定する場合は、ファイル名にワイルドカード文字 () を使用できます。 **-Include**パラメーターは、 **-backupTarget**パラメーターと組み合わせて使用する必要があります。 |
| -除外 | バックアップから除外する項目のコンマ区切りのリストを指定します。 ファイル、フォルダー、またはボリュームを除外することができます。 ボリュームパスは、ボリュームドライブ文字、ボリュームマウントポイント、または GUID ベースのボリューム名を使用して指定できます。 GUID ベースのボリューム名を使用する場合は、円記号 () で終わる必要があり `\` ます。 ファイル `*` へのパスを指定する場合は、ファイル名にワイルドカード文字 () を使用できます。 **-Exclude**パラメーターは、 **-backupTarget**パラメーターと組み合わせて使用する必要があります。 |
| -nonRecurseInclude | バックアップに含める項目の、非再帰的でコンマ区切りのリストを指定します。 複数のファイル、フォルダー、またはボリュームを含めることができます。 ボリュームパスは、ボリュームドライブ文字、ボリュームマウントポイント、または GUID ベースのボリューム名を使用して指定できます。 GUID ベースのボリューム名を使用する場合は、円記号 () で終わる必要があり `\` ます。 ファイル `*` へのパスを指定する場合は、ファイル名にワイルドカード文字 () を使用できます。 **-NonRecurseInclude**パラメーターは、 **-backupTarget**パラメーターと組み合わせてのみ使用する必要があります。 |
| -nonRecurseExclude | バックアップから除外する、非再帰的でコンマ区切りのリストを指定します。 ファイル、フォルダー、またはボリュームを除外することができます。 ボリュームパスは、ボリュームドライブ文字、ボリュームマウントポイント、または GUID ベースのボリューム名を使用して指定できます。 GUID ベースのボリューム名を使用する場合は、円記号 () で終わる必要があり `\` ます。 ファイル `*` へのパスを指定する場合は、ファイル名にワイルドカード文字 () を使用できます。 **-NonRecurseExclude**パラメーターは、 **-backupTarget**パラメーターと組み合わせてのみ使用する必要があります。 |
| -allCritical | すべての重要なボリューム (オペレーティングシステムの状態を含むボリューム) をバックアップに含めることを指定します。 このパラメーターは、ベアメタル回復用のバックアップを作成する場合に便利です。 **-BackupTarget**が指定されている場合にのみ使用する必要があります。指定しない場合、コマンドは失敗します。 は、 **-include** オプションと共に使用できます。<p>**ヒント:** 重要なボリュームのバックアップのターゲットボリュームはローカルドライブにすることができますが、バックアップに含まれているボリュームを使用することはできません。 |
| -systemState | **-Include**パラメーターで指定した他の項目に加えて、システム状態を含むバックアップを作成します。 システム状態には、ブートファイル (Boot.ini、NDTLDR、NTDetect.com) が含まれています。これには、COM 設定、SYSVOL (グループポリシーとログオンスクリプト)、Active Directory と NTDS が含まれます。ドメインコントローラー上の DIT、および証明書サービスがインストールされている場合は、証明書ストア。 サーバーに Web サーバーの役割がインストールされている場合は、IIS メタディレクトリが含まれます。 サーバーがクラスターの一部である場合は、クラスターサービスの情報も含まれます。 |
| -noVerify | リムーバブルメディア (DVD など) に保存されたバックアップにエラーがないかどうかを確認しないように指定します。 このパラメーターを使用しない場合、リムーバブルメディアに保存されたバックアップにはエラーがあるかどうかが検証されます。 |
| -ユーザー | バックアップがリモート共有フォルダーに保存されている場合、では、フォルダーに対する書き込みアクセス許可を持つユーザー名を指定します。 |
| -パスワード | パラメーター **-user**によって指定されたユーザー名のパスワードを指定します。 |
| -noInheritAcl | **-User**および **-password**パラメーターによって指定された資格情報に対応するアクセス制御リスト (ACL) のアクセス許可を `\\<servername>\<sharename>\WindowsImageBackup\<ComputerBackedUp>\` (バックアップが格納されているフォルダー) に適用します。 後でバックアップにアクセスするには、これらの資格情報を使用するか、共有フォルダーがあるコンピューターの Administrators グループまたは Backup Operators グループのメンバーである必要があります。 **-Noinheritacl**が使用されていない場合、リモート共有フォルダー `\<ComputerBackedUp>` へのアクセス権を持つすべてのユーザーがバックアップにアクセスできるように、リモート共有フォルダーからの acl アクセス許可が既定でフォルダーに適用されます。 |
| -vssFull | ボリュームシャドウコピーサービス (VSS) を使用して完全バックアップを実行します。 すべてのファイルがバックアップされ、各ファイルの履歴がバックアップされたことを反映して更新され、以前のバックアップのログが切り捨てられる可能性があります。 このパラメーターが使用されていない場合、 **wbadmin start バックアップ** によってコピーバックアップが作成されますが、バックアップするファイルの履歴は更新されません。<p>**注意:** 現在のバックアップに含まれるボリューム上のアプリをバックアップするために Windows Server バックアップ以外の製品を使用している場合は、このパラメーターを使用しないでください。 これにより、他のバックアップ製品が作成している増分バックアップ、差分バックアップ、その他の種類のバックアップが壊れる可能性があります。これは、バックアップするデータの量を判断するために依存している履歴があるため、不要な完全バックアップを実行する可能性があるためです。 |
| -vssCopy | VSS を使用してコピーバックアップを実行します。 すべてのファイルがバックアップされますが、バックアップするファイルの履歴は更新されないため、変更や削除などのファイル、およびアプリケーションログファイルに関するすべての情報が保持されます。 この種類のバックアップを使用しても、このコピーバックアップとは独立して発生する可能性のある増分バックアップと差分バックアップのシーケンスには影響しません。 これが既定値です。<p>**警告:** 増分バックアップまたは差分バックアップや復元では、コピーバックアップを使用できません。 |
| -quiet | ユーザーにプロンプトを表示せずにコマンドを実行します。 |

#### <a name="remarks"></a>解説

- バックアップをリモート共有フォルダーに保存し、同じコンピューターと同じリモート共有フォルダーに別のバックアップを実行すると、以前のバックアップが上書きされます。

- バックアップ操作が失敗した場合は、古いバックアップが上書きされますが、新しいバックアップは使用できないため、バックアップがないと終了する可能性があります。 これを回避するには、リモート共有フォルダーにサブフォルダーを作成して、バックアップを整理することをお勧めします。 ただし、この組織のために、親フォルダーとして使用可能な領域を2倍にする必要があります。

## <a name="examples"></a>例

ボリューム *e:*、 *d: \\ マウントポイント*、および `\\?\Volume{cc566d14-4410-11d9-9d93-806e6f6e6963}\` ボリューム *f:* のバックアップを作成するには、次のように入力します。

```
wbadmin start backup -backupTarget:f: -include:e:,d:\mountpoint,\\?\Volume{cc566d14-44a0-11d9-9d93-806e6f6e6963}\
```

*F: \\ folder1*と*h: \\ folder2*の1回限りのバックアップをボリューム*d:* に実行し、システム状態をバックアップして、通常スケジュールされている差分バックアップが影響を受けないようにコピーバックアップを作成するには、次のように入力します。

```
wbadmin start backup –backupTarget:d: -include:g\folder1,h:\folder2 –systemstate -vsscopy
```

ネットワークの場所に対して *d: \\ folder1* の1回限りの非再帰的なバックアップを実行 `\\backupshare\backup1*` し、 **Administrators** グループまたは **backup Operators** グループのメンバーへのアクセスを制限するには、次のように入力します。

```
wbadmin start backup –backupTarget: \\backupshare\backup1 -noinheritacl -nonrecurseinclude:d:\folder1
```

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)

- [wbadmin コマンド](wbadmin.md)
