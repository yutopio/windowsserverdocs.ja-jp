---
title: ping
description: Ping コマンドの参照記事。ネットワーク接続を確認します。
ms.topic: reference
ms.assetid: 49272671-2eec-4fa5-881f-65c24cfbef52
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 07/11/2018
ms.openlocfilehash: e2f2e2c042117cad94f2204e64303d01be26f249
ms.sourcegitcommit: 8c0a419ae5483159548eb0bc159f4b774d4c3d85
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/03/2020
ms.locfileid: "93235789"
---
# <a name="ping"></a>ping

> 適用対象: Windows Server (半期チャネル)、Windows Server 2019、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

インターネット制御メッセージプロトコル (ICMP) エコー要求メッセージを送信することによって、別の TCP/IP コンピューターへの IP レベル接続を検証します。 対応するエコー応答メッセージの受信は、ラウンドトリップ時間と共に表示されます。 ping は、接続、到達可能性、および名前解決のトラブルシューティングに使用されるプライマリ TCP/IP コマンドです。 パラメーターを指定せずに使用します。このコマンドはヘルプコンテンツを表示します。

また、このコマンドを使用して、コンピューター名とコンピューターの IP アドレスの両方をテストすることもできます。 IP アドレスへの ping に成功しても、コンピューター名に ping が実行されていない場合は、名前解決の問題が発生している可能性があります。 この場合、指定するコンピューター名は、ローカルホストファイル、ドメインネームシステム (DNS) クエリ、または NetBIOS の名前解決方法を使用して解決できることを確認してください。

> [!NOTE]
> このコマンドは、インターネットプロトコル (TCP/IP) がネットワーク接続のネットワークアダプターのプロパティでコンポーネントとしてインストールされている場合にのみ使用できます。

## <a name="syntax"></a>構文

```
ping [/t] [/a] [/n <count>] [/l <size>] [/f] [/I <TTL>] [/v <TOS>] [/r <count>] [/s <count>] [{/j <hostlist> | /k <hostlist>}] [/w <timeout>] [/R] [/S <Srcaddr>] [/4] [/6] <targetname>
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
|:--:|---|
| /t | 中断されるまで、ping が送信先にエコー要求メッセージを送信し続けることを指定します。 統計を中断および表示するには、CTRL + ENTER キーを押します。 このコマンドを中断して終了するには、CTRL + C キーを押します。 |
| /a | 宛先 IP アドレスで実行する名前の反転解決を指定します。 これが成功した場合は、ping に対応するホスト名が表示されます。 |
| ms-dos `<count>` | 送信するエコー要求メッセージの数を指定します。 既定値は 4 です。 |
| /l `<size>` | エコー要求メッセージの **データ** フィールドの長さをバイト単位で指定します。 既定値は 32 です。 最大サイズは65527です。 |
| /f | 1に設定された IP ヘッダーの **Do Not Fragment** フラグを使用して、エコー要求メッセージを送信するように指定します (IPv4 のみで使用可能)。 転送先へのパスのルーターでは、エコー要求メッセージをフラグメント化できません。 このパラメーターは、パスの最大転送ユニット (PMTU) に関する問題のトラブルシューティングに役立ちます。 |
| /I `<TTL>` | 送信するエコー要求メッセージの IP ヘッダーの Time To Live (TTL) フィールドの値を指定します。 既定では、ホストの既定の TTL 値です。 最大 *TTL* 255 文字です。 |
| /v `<TOS>` | 送信するエコー要求メッセージの IP ヘッダーに含まれるサービスの種類 (TOS) フィールドの値を指定します (IPv4 のみで使用可能)。 既定値は 0 です。 *TOS* は 0 ~ 255 の 10 進値として指定します。 |
| r `<count>` | エコー要求メッセージおよび対応するエコー応答メッセージによって取得されるパス (IPv4 のみで使用可能) を記録するために、IP ヘッダーの **レコードルート** オプションを使用することを指定します。 パス内の各ホップは、[ **レコードルート** ] オプションのエントリを使用します。 可能であれば、送信元と送信先の間のホップ数と等しいかそれより大きい *数* を指定します。 *カウント* は1以上、最大値が9である必要があります。 |
| /s `<count>` | IP ヘッダーの **インターネットタイムスタンプ** オプションを使用して、各ホップのエコー要求メッセージと対応するエコー応答メッセージの到着時刻を記録するように指定します。 *カウント* は1以上、最大値が4である必要があります。 リンク ローカルの宛先アドレスの場合に必要です。 |
| /j `<hostlist>` | エコー要求メッセージを指定します。 IP ヘッダーの **緩やかなソースルート** オプションを使用して、 *Hostlist* (IPv4 のみで使用可能) を指定します。 厳密でないソースのルーティングと連続した中間宛先は、1 つまたは複数のルーターで区切ることができます。 アドレスまたはホストの一覧に名の最大数が 9 です。 ホストの一覧は、スペースで区切られた一連の IP アドレス (ドット形式 10 進表記) です。 |
| /k `<hostlist>` | エコー要求メッセージを指定します。 IP ヘッダーの **厳密なソースルート** オプションを使用して、 *Hostlist* (IPv4 のみで使用可能) を指定します。 厳密なソースのルーティングとは、次の中継送信先を直接到達可能にする必要があります (ルーターのインターフェイスで近隣ノードがある必要があります)。 アドレスまたはホストの一覧に名の最大数が 9 です。 ホストの一覧は、スペースで区切られた一連の IP アドレス (ドット形式 10 進表記) です。 |
| /w `<timeout>` | 特定のエコー要求メッセージに対応するエコー応答メッセージを待機する時間をミリ秒単位で指定します。 タイムアウト時間内にエコー応答メッセージが受信されなかった場合は、"要求がタイムアウトしました" というエラーメッセージが表示されます。 既定のタイムアウトは 4000 (4 秒) です。 |
| /R | ラウンドトリップパスをトレースすることを指定します (IPv6 のみで使用可能)。 |
| /S `<Srcaddr>` | (IPv6 のみで使用可能) を使用する送信元アドレスを指定します。 |
| /4 | Ping に使用する IPv4 を指定します。 このパラメーターは、IPv4 アドレスを持つターゲット ホストを識別する必要はありません。 名前で、ターゲット ホストを識別するためにのみ必要です。 |
| /6 | Ping に使用する IPv6 を指定します。 このパラメーターは、IPv6 アドレスを持つターゲット ホストを識別する必要はありません。 名前で、ターゲット ホストを識別するためにのみ必要です。 |
| `<targetname>` | ホスト名または変換先の IP アドレスを指定します。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

### <a name="example-of-the-ping-command-output"></a>Ping コマンドの出力例

```
C:\>ping example.microsoft.com
    pinging example.microsoft.com [192.168.239.132] with 32 bytes of data:
    Reply from 192.168.239.132: bytes=32 time=101ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=100ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=120ms TTL=124
    Reply from 192.168.239.132: bytes=32 time=120ms TTL=124
```

### <a name="examples"></a>例

Ping を実行、10.0.99.221 を 10.0.99.221 を解決するには、ホスト名には、次のように入力します。

```
ping /a 10.0.99.221
```

10個のエコー要求メッセージを使用して宛先10.0.99.221 に ping を実行し、それぞれに1000バイトのデータフィールドがある場合は、次のように入力します。

```
ping /n 10 /l 1000 10.0.99.221
```

Ping を実行、10.0.99.221 を 4 ホップのルートを記録は、次のように入力します。

```
ping /r 4 10.0.99.221
```

宛先 10.0.99.221 に ping を実行し、10.12.0.1-10.29.3.1-10.1.44.1 の厳密でないソース ルートを指定して、次のように入力します。

```
ping /j 10.12.0.1 10.29.3.1 10.1.44.1 10.0.99.221
```

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
