---
title: set
description: cmd.exe 環境変数の表示、設定、または削除を行う set のリファレンス記事です。
ms.topic: reference
ms.assetid: 5fdd60d6-addf-4574-8c92-8aa53fa73d76
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 2f53655aa344e1770c9483e5302885734c389837
ms.sourcegitcommit: e164aeffc01069b8f1f3248bf106fcdb7f64f894
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/26/2020
ms.locfileid: "91389030"
---
# <a name="set-environment-variable"></a>set (環境変数)

cmd.exe 環境変数を表示、設定、または削除します。 パラメーターを指定せずに使用する場合 **設定** 現在の環境変数の設定が表示されます。

> [!NOTE]
> このコマンドでは、既定で有効になっているコマンド拡張機能が必要です。

**Set**コマンドは、別のパラメーターを使用して Windows 回復コンソールから実行することもできます。 詳細については、「 [Windows 回復環境 (WinRE)](/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference)」を参照してください。

## <a name="syntax"></a>構文

```
set [<variable>=[<string>]]
set [/p] <variable>=[<promptString>]
set /a <variable>=<expression>
```

### <a name="parameters"></a>パラメーター

| パラメーター | [説明] |
|--|--|
| `<variable>` | 設定または変更するには、環境変数を指定します。 |
| `<string>` | 指定された環境変数に関連付ける文字列を指定します。 |
| /p | の値を、 `<variable>` ユーザーが入力した入力行に設定します。 |
| `<promptstring>` | 入力をユーザーに入力を求めるメッセージを指定します。 このパラメーターは、 **/p** パラメーターと共に使用する必要があります。 |
| /a | `<string>`は、評価される数値式に設定されます。 |
| `<expression>` | 数値式を指定します。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

#### <a name="remarks"></a>解説

- コマンド拡張機能が有効になっている場合 (既定)、値を指定して **set** を実行すると、その値で始まるすべての変数が表示されます。

- 、、 `<` 、 `>` `|` `&` 、およびの `^` 各文字は特殊なコマンドシェル文字であり、の前にエスケープ文字 ( `^` ) を付けるか、またはで使用する場合は引用符で囲む必要があり `<string>` ます (例 "&シンボルを含む stringcontaining)。 いずれかの特殊文字を含む文字列を引用符で囲む場合、引用符は環境変数値の一部として設定されます。

- 環境変数を使用して、バッチ ファイルやプログラムの動作を制御し、Windows と、MS-DOS を制御するサブシステムの外観し機能します。 **Set**コマンドは、 **Autoexec**ファイルで環境変数を設定するためによく使用されます。

- パラメーターを指定せずに **set** コマンドを使用すると、現在の環境設定が表示されます。 これらの設定には、通常、ディスク上のプログラムを検索するために使用される **COMSPEC** および **PATH** 環境変数が含まれています。 Windows で使用されるその他の2つの環境変数は、 **PROMPT** と **DIRCMD**です。

- との値を指定すると `<variable>` `<string>` 、指定した `<variable>` 値が環境に追加され、 `<string>` その変数に関連付けられます。 環境内の変数が既に存在する場合、新しい文字列値には、元の文字列値が置き換えられます。

- Set コマンドに変数と等号 (なし) のみを指定した場合 `<string>` 、変数**set** `<string>` に関連付けられている値はクリアされます (変数が存在しない場合と同様)。

- **/A**パラメーターを使用すると、次の演算子がサポートされます。優先順位が高い順になります。

  | 演算子 | 実行される操作 |
  |--|--|
  | `( )` | グループ化 |
  | `! ~ -` | 単項 |
  | `* / %` | 算術 |
  | `+ -` | 算術 |
  | `<< >>` | 論理シフト |
  | `&` | ビット演算子 AND |
  | `^` | ビット演算子排他的 OR |
  | `= *= /= %= += -= &= ^=` | `= <<= >>=` |
  | `,` | 式の区切り記号 |

- 論理 ( `&&` or `||` ) 演算子または剰余 () 演算子を使用する場合は **%** 、式文字列を引用符で囲みます。 式で任意の数値ではない文字列には、環境変数の名前と見なされ、それらの値は、処理される前に、数値に変換します。 現在の環境で定義されていない環境変数名を指定する値は 0 が割り当てられている、% を使用して値を取得することがなく環境変数の値の算術演算を実行できます。

- 実行すると **set/a** コマンド スクリプトの外部でコマンドラインから、式の最終的な値が表示されます。

- 数値は、0 × 16 進数または 8 進数 0 で始まっていない限り、10 進の番号です。 そのため、0 ~ 12 は、18 の場合と同じある 022 と同じです。

- 既定では、遅延環境変数の拡張サポートが無効になりますが、有効にするかを使用して無効にするに **cmd/v**します。

- バッチ ファイルを作成するときに行うこともできます **設定** 変数を作成し、それらを番号付きの変数を使用することと同じ方法で使用する **%0** を通じて **%9**します。 変数を使用することもできます。 **%0** を通じて **%9** の入力として **設定**します。

- バッチファイルから変数値を呼び出す場合は、値をパーセント記号 () で囲み **%** ます。 たとえば、batch プログラムが " *baud*" という名前の環境変数を作成した場合、コマンドプロンプトで「 **% baud%** 」と入力すると、 *baud*に関連付けられている文字列を置換可能なパラメーターとして使用できます。

## <a name="examples"></a>例

*TEST ^ 1*という名前の環境変数を設定するには、次のように入力します。

```
set testVar=test^^1
```

**設定** コマンドは、変数の値を等号 (=) に依存しているすべてのデータを割り当てます。 したがって、「」と入力すると、 `set testVar=test^1` 次の結果が得ら `testVar=test^1` れます。

*テスト&1*という名前の環境変数を設定するには、次のように入力します。

```
set testVar=test^&1
```

*INCLUDE*という名前の環境変数を設定して、文字列*c:\ ディレクトリ*が関連付けられるようにするには、次のように入力します。

```
set include=c:\directory
```

次に、名前にパーセント記号 () を含めることにより、バッチファイルで文字列 *c:\ ディレクトリ* を使用でき **%** ます。 たとえば、バッチファイルでを使用して、 `dir %include%` INCLUDE 環境変数に関連付けられているディレクトリの内容を表示できます。 このコマンドが処理された後、文字列 c:\ ディレクトリによって **% include% が**置き換えられます。

Batch プログラムで **set** コマンドを使用して *PATH* 環境変数に新しいディレクトリを追加するには、次のように入力します。

```
@echo off
rem ADDPATH.BAT adds a new directory
rem to the path environment variable.
set path=%1;%path%
set
```

*P*文字で始まるすべての環境変数の一覧を表示するには、次のように入力します。

```
set p
```

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)