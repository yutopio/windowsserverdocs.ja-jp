---
title: tracert
description: Tracert の参照記事。この記事では、インターネット制御メッセージプロトコル (ICMP) のエコー要求または ICMPv6 メッセージを宛先に送信して、時間をライブ (TTL) フィールドの値を段階的に増加させることで、宛先へのパスを決定します。
ms.topic: reference
ms.assetid: 9032a032-2e5e-49d4-9e86-f821600e4ba6
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 767871e9100d8b14c8a893fd9d9dbb5862810ace
ms.sourcegitcommit: f45640cf4fda621b71593c63517cfdb983d1dc6a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2020
ms.locfileid: "92156415"
---
# <a name="tracert"></a>tracert

> 適用対象: Windows Server (半期チャネル)、Windows Server 2019、Windows Server 2016、Windows Server 2012 R2、Windows Server 2012

この診断ツールは、インターネット制御メッセージプロトコル (ICMP) のエコー要求または ICMPv6 メッセージを宛先に送信することによって、宛先へのパスを決定します。このとき、time to live (TTL) フィールド値を段階的に増加させることができます。 パス上の各ルーターは、転送する前に、IP パケットの TTL を少なくとも1に減らす必要があります。 実質的に、TTL は最大リンクカウンターです。 パケットの TTL が0になると、ルーターは ICMP 時間超過メッセージをソースコンピュータに返すことが期待されます。

このコマンドは、TTL が1の最初のエコー要求メッセージを送信し、ターゲットが応答するまで、または最大ホップ数に到達するまで、後続の各送信で TTL を1ずつインクリメントして、パスを決定します。 既定では、最大ホップ数は30です。これは、 **/h** パラメーターを使用して指定できます。

このパスは、中間ルーターによって返された ICMP 時間超過メッセージと、送信先から返されたエコー応答メッセージを調べることによって決定されます。 ただし、一部のルーターでは、TTL 値が期限切れになったパケットの時間超過メッセージは返されず、 **tracert** コマンドには表示されません。 この場合、 `*` そのホップに対してアスタリスク () の行が表示されます。 表示されるパスは、ソースホストと宛先の間のパスにあるルーターの近隣/サイドルーターインターフェイスの一覧です。 Near/side インターフェイスは、パス内の送信ホストに最も近いルーターのインターフェイスです。

> [!IMPORTANT]
> このコマンドは、インターネット プロトコル (TCP/IP) プロトコルがネットワーク接続のネットワーク アダプターのプロパティでコンポーネントとしてインストールされている場合にのみ使用できます。
>
> パスをトレースし、パス内の各ルーターおよびリンクのネットワーク待機時間とパケット損失を提供するには、 [pathping コマンド](pathping.md) を使用します。

## <a name="syntax"></a>構文

```
tracert [/d] [/h <maximumhops>] [/j <hostlist>] [/w <timeout>] [/R] [/S <srcaddr>] [/4][/6] <targetname>
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
|--|--|
| /d | 中間ルーターの IP アドレスの名前への解決の試行を停止します。 これにより、結果をすばやく返すことができます。 |
| /h `<maximumhops>` | ターゲット (宛先) を検索するパスの最大ホップ数を指定します。 既定値は、30 ホップです。 |
| /j `<hostlist>` | エコー要求メッセージが、で指定された中間送信先のセットと共に IP ヘッダーの緩やかなソースルートオプションを使用することを指定し `<hostlist>` ます。 厳密でないソースのルーティングと連続した中間宛先は、1 つまたは複数のルーターで区切ることができます。 リスト内のアドレスまたは名前の最大数は *9*です。 は、 `<hostlist>` スペースで区切られた一連の IP アドレス (ドット形式10進表記) です。 このパラメーターは、IPv4 アドレスをトレースする場合にのみ使用します。 |
| /w `<timeout>` | 指定されたエコー要求メッセージに対応する ICMP 時間超過またはエコー応答メッセージを待機する時間をミリ秒単位で指定します。 タイムアウト時間内に受信しなかった場合は、アスタリスク ( `*` ) が表示されます。 既定のタイムアウトは 4000 (4 秒) です。 |
| /R | 宛先を中間宛先として使用し、逆ルートをテストするために、IPv6 ルーティング拡張ヘッダーを使用してローカルホストにエコー要求メッセージを送信することを指定します。 |
| /S `<srcaddr>` | エコー要求メッセージで使用する送信元アドレスを指定します。 このパラメーターは、IPv6 アドレスをトレースする場合にのみ使用します。 |
| /4 | tracert.exe がこのトレースに IPv4 のみを使用できることを指定します。 |
| /6 | tracert.exe がこのトレースに IPv6 のみを使用できることを指定します。 |
| `<targetname>` | 宛先を指定します。 IP アドレスまたはホスト名で識別されます。 |
| /? | コマンド プロンプトにヘルプを表示します。 |

## <a name="examples"></a>使用例

*Corp7.microsoft.com*という名前のホストへのパスをトレースするには、次のように入力します。

```
tracert corp7.microsoft.com
```

*Corp7.microsoft.com*という名前のホストへのパスをトレースし、それぞれの IP アドレスを名前に解決できないようにするには、次のように入力します。

```
tracert /d corp7.microsoft.com
```

*Corp7.microsoft.com*という名前のホストへのパスをトレースし、 *10.12.0.1/10.29.3.1/10.1.44.1*という緩いソースルートを使用するには、次のように入力します。

```
tracert /j 10.12.0.1 10.29.3.1 10.1.44.1 corp7.microsoft.com
```

## <a name="additional-references"></a>その他のリファレンス

- [コマンド ライン構文の記号](command-line-syntax-key.md)

- [pathping コマンド](pathping.md)
