---
title: robocopy
description: Robocopy コマンドの参照記事。1つの場所から別の場所にファイルデータをコピーします。
ms.topic: reference
ms.assetid: d4c6e8e9-fcb3-4a4a-9d04-2d8c367b6354
author: jasongerend
ms.author: jgerend
manager: lizapo
ms.date: 06/07/2020
ms.openlocfilehash: 23d2742d7afeba630c11545cefa3696da05fbcc6
ms.sourcegitcommit: 7c0794e257f602bd71af5eb9a11b8a03d2b9adfd
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/14/2020
ms.locfileid: "97390260"
---
# <a name="robocopy"></a>robocopy

ある場所から別の場所にファイルデータをコピーします。

## <a name="syntax"></a>構文

```
robocopy <source> <destination> [<file>[ ...]] [<options>]
```

たとえば、 *yearly-report* という名前のファイルをファイル共有 *\\ marketing\videos* にコピーし、マルチスレッドを有効にして ( **/mt** パラメーターを使用して)、中断された場合に ( **/z** パラメーターを使用して) 転送を再開 *できるように* するには、次のように入力します。

```dos
robocopy c:\reports '\\marketing\videos' yearly-report.mov /mt /z
```

### <a name="parameters"></a>パラメーター

| パラメーター | 説明 |
|--|--|
| `<source>` | コピー元ディレクトリのパスを指定します。 |
| `<destination>` | コピー先ディレクトリのパスを指定します。 |
| `<file>` | ファイルをコピーするファイルを指定します。 ワイルドカード文字 (**&#42;** または **?**) がサポートされています。 このパラメーターを指定しない場合、 `*.*` は既定値として使用されます。 |
| `<options>` | **コピー**、**ファイル**、**再試行**、**ログ**、**ジョブ** オプションなど、 **robocopy** コマンドで使用するオプションを指定します。 |

#### <a name="copy-options"></a>オプションをコピーします。

| オプション | 説明 |
|--|--|
| /s | コピーのサブディレクトリです。 このオプションは、空のディレクトリを自動的に除外します。 |
| /e | コピーのサブディレクトリです。 このオプションには、空のディレクトリが自動的に含まれます。 |
| /lev:`<n>` | ソースディレクトリツリーの上位 *n* レベルのみをコピーします。 |
| /z | 再開可能モードでファイルをコピーします。 |
| /b | バックアップ モードでファイルをコピーします。 |
| /zb | 再起動可能モードを使用します。 アクセスが拒否された場合、このオプションはバックアップ モードを使用します。 |
| /efsraw | EFS の RAW モードでは、すべての暗号化されたファイルをコピーします。 |
| /copy`<copyflags>` | コピーするファイルプロパティを指定します。 このオプションの有効な値は次のとおりです。<ul><li>**D** -データ</li><li>**A** -属性</li><li>**T** タイムスタンプ</li><li>**S** -NTFS アクセス制御リスト (ACL)</li><li>**O** -所有者情報</li><li>**U** -監査情報</li></ul>このオプションの既定値は **DAT** (データ、属性、およびタイムスタンプ) です。 |
| /dcopy:`<copyflags>`| ディレクトリにコピーする項目を指定します。 このオプションの有効な値は次のとおりです。<ul><li>**D** -データ</li><li>**A** -属性</li><li>**T** タイムスタンプ</li></ul>このオプションの既定値は、 **DA** (データと属性) です。 |
| 数/秒 | セキュリティで保護されたファイルをコピーします ( **/copy: DATS** と同等)。 |
| /copyall | すべてのファイル情報のコピー (に相当 **/copy:DATSOU**)。 |
| /nocopy | コピー ファイルの情報はありません (で役に立ちます **パージ/**)。 |
| /secfix | でも、すべてのファイルに修正プログラム ファイルのセキュリティには、ものがスキップされます。 |
| /timfix | でも、すべてのファイルに修正プログラム ファイルの時間には、ものがスキップされます。 |
| /purge | リンク先のファイルとソースに存在しなくなったディレクトリを削除します。 このオプションを **/e** オプションおよび destination ディレクトリと共に使用すると、宛先ディレクトリのセキュリティ設定を上書きできなくなります。 |
| /mir | ディレクトリ ツリーをミラー化 (に相当 **/e** plus **パージ/**)。 このオプションを **/e** オプションおよび destination ディレクトリと共に使用すると、宛先ディレクトリのセキュリティ設定が上書きされます。 |
| /mov | ファイルを移動し、コピーした後に、ソースからも削除します。 |
| /move | ファイルとディレクトリを移動し、コピーした後に、ソースからも削除します。 |
| /a +: [RASHCNET] | コピーしたファイルに指定された属性を追加します。  このオプションの有効な値は次のとおりです。 <ul><li>**R** -読み取り専用</li><li>**A** -アーカイブ</li><li>**S** -システム</li><li>**H** -非表示</li><li>**C** -圧縮</li><li>**N** -コンテンツがインデックス化されていません</li><li>**電子** 暗号化</li><li>**T** -一時的</li></ul> |
| /a -: [RASHCNET] | コピーしたファイルから、指定された属性を削除します。 このオプションの有効な値は次のとおりです。 <ul><li>**R** -読み取り専用</li><li>**A** -アーカイブ</li><li>**S** -システム</li><li>**H** -非表示</li><li>**C** -圧縮</li><li>**N** -コンテンツがインデックス化されていません</li><li>**電子** 暗号化</li><li>**T** -一時的</li></ul> |
| 作成します | ディレクトリ ツリー、長さゼロのファイルのみを作成します。 |
| fat/ | 8.3 形式の文字長 FAT ファイル名のみを使用して、リンク先のファイルを作成します。 |
| /256 | 256文字を超えるパスのサポートをオフにします。 |
| 月曜日`<n>` | ソースを監視し、 *n* 個以上の変更が検出されたときに実行を再開します。 |
| /mot:`<m>` | 変更が検出された場合、ソースを監視し、 *m* 分後にもう一度実行します。 |
| /MT`[:n]` | *N 個* のスレッドでマルチスレッドコピーを作成します。 *n* には、1 ~ 128 の整数を指定してください。 *N* の既定値は8です。 パフォーマンスを向上させるには、 **/log** オプションを使用して出力をリダイレクトします。<p>**/Mt** パラメーターを **/ipg** および **/efsraw** パラメーターと共に使用することはできません。 |
| /rh:hhmm-hhmm | 新しいコピーを起動するときに実行時間を指定します。 |
| /pf | チェックは、ファイル (ごとに渡されない) ごとに時間を実行します。 |
| /ipg:n | 低速回線の帯域幅を解放する間のパケットの間隔を指定します。 |
| /sl | シンボリックリンクに従わず、代わりにリンクのコピーを作成します。 |

> [!IMPORTANT]
> **/Secfix** copy オプションを使用する場合は、次の追加のコピーオプションのいずれかを使用して、コピーするセキュリティ情報の種類を指定します。
>
>- **/copyall**
>- **/copy: o**
>- **/copy: s**
>- **/copy: u**
>- **/sec**

#### <a name="file-selection-options"></a>ファイルの選択オプション

| オプション | 説明 |
|--|--|
| /a | 対象のファイルのみをコピー、 **アーカイブ** 属性を設定します。 |
| /m | 対象のファイルのみをコピー、 **アーカイブ** 属性が設定されているし、リセット、 **アーカイブ** 属性です。 |
| 女神`[RASHCNETO]` | 指定した属性のいずれかが設定する対象のファイルのみが含まれます。  このオプションの有効な値は次のとおりです。 <ul><li>**R** -読み取り専用</li><li>**A** -アーカイブ</li><li>**S** -システム</li><li>**H** -非表示</li><li>**C** -圧縮</li><li>**N** -コンテンツがインデックス化されていません</li><li>**電子** 暗号化</li><li>**T** -一時的</li><li>**O** -オフライン</li></ul> |
| xa`[RASHCNETO]` | 指定した属性のいずれかが設定する対象のファイルを除外します。 このオプションの有効な値は次のとおりです。 <ul><li>**R** -読み取り専用</li><li>**A** -アーカイブ</li><li>**S** -システム</li><li>**H** -非表示</li><li>**C** -圧縮</li><li>**N** -コンテンツがインデックス化されていません</li><li>**電子** 暗号化</li><li>**T** -一時的</li><li>**O** -オフライン</li></ul> |
| /xf `<filename>[ ...]` | 指定した名前またはパスに一致するファイルを除外します。 ワイルドカード文字 (**&#42;** と **?**) がサポートされています。 |
| /xd `<directory>[ ...]` | 指定した名前とパスに一致するディレクトリを除外します。 |
| /xc | 変更されたファイルを除外します。 |
| /xn | 新しいファイルを除外します。 |
| /xo | 古いファイルを除外します。 |
| /xx | 余分なファイルやディレクトリを除外します。 |
| 指定. | 「今」ファイルとディレクトリを除外します。 |
| /is | 同じファイルを含めます。 |
| /it | 変更されたファイルを含みます。 |
| 制限`<n>` | ファイルの最大サイズを指定します ( *n* バイトより大きいファイルを除外する場合)。 |
| /min`<n>` | ファイルの最小サイズを指定します ( *n* バイトよりも小さいファイルを除外する場合)。 |
| maxage`<n>` | ファイルの最大有効期間を指定します ( *n* 日または日付より前のファイルを除外します)。 |
| /minage:`<n>` | ファイルの最小経過期間を指定します ( *n* 日または日付よりも新しいファイルは除外されます)。 |
| /maxlad:`<n>` | 最後にアクセスした日付の最大値を指定します ( *n* 以降に使用されていないファイルは除外します)。 |
| /minlad:`<n>` | 最後のアクセス日付の最小値を指定します ( *n* 以降に使用されたファイルを除く)。 *n* が1900未満の場合、 *n* は日数を指定します。 それ以外の場合、 *n* は YYYYMMDD 形式の日付を指定します。 |
| /xj | 通常は既定で含まの接合ポイントは含まれません。 |
| /fft | FAT ファイル時間 (2 秒の精度) を想定します。 |
| /dst | 1 時間 DST 時刻の違いを補正します。 |
| /xjd | ディレクトリの接合ポイントは含まれません。 |
| /xjf | ファイルの接合ポイントは含まれません。 |

#### <a name="retry-options"></a>再試行オプション

| オプション | 説明 |
|--|--|
| /r:`<n>` | 失敗したコピーの再試行回数を指定します。 既定値の *n* は 100万 (100万再試行) です。 |
| /w:`<n>` | 再試行間の待ち時間 (秒) を指定します。 既定値の *n* は 30 (待機時間は30秒) です。 |
| /reg | 指定された値を保存、 **/r** と **/w** レジストリの既定の設定とオプションです。 |
| /tbd | システムが定義する共有名を待つことを指定します (エラー 67 を再試行してください)。 |

#### <a name="logging-options"></a>[ログ オプション]

| オプション | 説明 |
|--|--|
| /l | ファイルのみリストに表示されることを指定 (およびコピーされず、削除、またはタイムスタンプ) です。 |
| /x | 選択されているものだけでなく、すべての余分なファイルを報告します。 |
| /v | 詳細出力を生成し、すべてのスキップしたファイルを示します。 |
| /ts | 出力には、ソース ファイルのタイムスタンプが含まれています。 |
| /fp | 出力にはファイルの完全パス名が含まれます。 |
| /bytes | バイトとして、サイズを印刷します。 |
| /ns | ファイルのサイズを記録しないことを指定します。 |
| /nc | ファイル クラスがないログに記録することを指定します。 |
| /nfl | ファイル名をログに記録しないように指定します。 |
| /ndl | ディレクトリ名をログに記録しないように指定します。 |
| /np | コピー操作の進行状況 (それまでにコピーされたファイルまたはディレクトリの数) が表示されないように指定します。 |
| /eta | コピーしたファイルの到着 (予定) の推定時間を示します。 |
| /log`<logfile>` | 状態出力をログ ファイルに書き込みます (既存のログ ファイルを上書きします)。 |
| /log +:`<logfile>` | 状態の出力を (既存のログ ファイルに出力を追加する)、ログ ファイルに書き込みます。 |
| /unicode | Unicode テキストとして状態の出力を表示します。 |
| /unilog:`<logfile>` | (既存のログ ファイルを上書きする) の Unicode 文字としてログ ファイルに出力のステータスを書き込みます。 |
| /unilog +:`<logfile>` | (出力を既存のログ ファイルに追加する) の Unicode 文字としてログ ファイルに出力のステータスを書き込みます。 |
| /tee | ログ ファイルだけでなく、コンソール ウィンドウには、状態の出力を書き込みます。 |
| /njh | ジョブのヘッダーがないことを指定します。 |
| /njs | ジョブの概要がないことを指定します。 |

#### <a name="job-options"></a>ジョブのオプション

| オプション | 説明 |
|--|--|
| /ジョブ (`<jobname>` | パラメーターをジョブの名前付きのファイルから派生するように指定します。 |
| 保存`<jobname>` | パラメーターを名前付きのジョブのファイルに保存するように指定します。 |
| /quit | (パラメーターを表示する) のコマンドラインの処理の後に終了します。 |
| /nosd | ソース ディレクトリが指定されていないことを示します。 |
| /nodd | インストール先ディレクトリが指定されていないことを示します。 |
| /if | 指定したファイルが含まれます。 |

### <a name="exit-return-codes"></a>終了 (リターン) コード

| 値 | 説明 |
|--|--|
| 0 | ファイルはコピーされませんでした。 エラーは発生しませんでした。 一致するファイルがありませんでした。 ファイルは、コピー先のディレクトリに既に存在します。そのため、コピー操作はスキップされました。 |
| 1 | すべてのファイルが正常にコピーされました。 |
| 2 | コピー先のディレクトリには、ソースディレクトリに存在しない追加ファイルがいくつかあります。 ファイルはコピーされませんでした。 |
| 3 | 一部のファイルがコピーされました。 追加ファイルが存在しました。 エラーは発生しませんでした。 |
| 5 | 一部のファイルがコピーされました。 一部のファイルが一致しませんでした。 エラーは発生しませんでした。 |
| 6 | 追加のファイルと一致しないファイルが存在します。 ファイルがコピーされなかったため、エラーは発生しませんでした。 これは、ファイルがコピー先ディレクトリに既に存在することを意味します。 |
| 7 | ファイルがコピーされ、ファイルの不一致が存在し、追加のファイルが存在しました。 |
| 8 | いくつかのファイルがコピーされませんでした。 |

> [!NOTE]
> **8** より大きい値を指定すると、コピー操作中に少なくとも1つのエラーが発生したことを示します。

## <a name="additional-references"></a>その他の参照情報

- [コマンド ライン構文の記号](command-line-syntax-key.md)
